(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{10:function(e,t,l){"use strict";l.r(t);var n=l(1),r=l(2),s=l(3),u=l(5),a=l(4),i=l(6),o=l(0),c=l.n(o),h=l(8),p=l.n(h),v=(l(15),function(e){function t(e){var l;Object(r.a)(this,t),l=Object(u.a)(this,Object(a.a)(t).call(this,e));var n=[];return n.push(["b",null,"b",null,"b",null,"b",null]),n.push([null,"b",null,"b",null,"b",null,"b"]),n.push(["b",null,"b",null,"b",null,"b",null]),n.push([null,null,null,null,null,null,null,null]),n.push([null,null,null,null,null,null,null,null]),n.push([null,"r",null,"r",null,"r",null,"r"]),n.push(["r",null,"r",null,"r",null,"r",null]),n.push([null,"r",null,"r",null,"r",null,"r"]),l.state={squares:n,stepNumber:0,player:"Rr",moveFrom:[-1,-1],winner:null},l}return Object(i.a)(t,e),Object(s.a)(t,[{key:"getInitialState",value:function(){var e=[];return e.push(["b",null,"b",null,"b",null,"b",null]),e.push([null,"b",null,"b",null,"b",null,"b"]),e.push(["b",null,"b",null,"b",null,"b",null]),e.push([null,null,null,null,null,null,null,null]),e.push([null,null,null,null,null,null,null,null]),e.push([null,"r",null,"r",null,"r",null,"r"]),e.push(["r",null,"r",null,"r",null,"r",null]),e.push([null,"r",null,"r",null,"r",null,"r"]),{squares:e,stepNumber:0,player:"Rr",moveFrom:[-1,-1],winner:null}}},{key:"handleClick",value:function(e){for(var t="[",l=0;l<8;l++)t+=JSON.stringify(this.state.squares[l]).substring(1,JSON.stringify(this.state.squares[l]).length-1),t+=",";if(t=t.substring(0,t.length-1),t+="]",!this.state.winner&&"Bb"!==this.state.player){for(var n=this.state.moveFrom.slice(),r=[],s=0;s<8;s++)r.push(this.state.squares[s].slice());if(JSON.stringify(n)===JSON.stringify([-1,-1])){if(!this.state.player.includes(r[e[0]][e[1]]))return;this.setState((function(t){return{moveFrom:e.slice()}}),(function(){return this.showValidMoves(e)}))}else{if(JSON.stringify(n)===JSON.stringify(e)){var u=!0,a=!1,i=void 0;try{for(var o,c=r[Symbol.iterator]();!(u=(o=c.next()).done);u=!0)for(var h=o.value,p=0;p<8;p++)"h"===h[p]&&(h[p]=null)}catch(v){a=!0,i=v}finally{try{u||null==c.return||c.return()}finally{if(a)throw i}}return void this.setState((function(e){return{squares:r,moveFrom:[-1,-1]}}))}if("h"!==r[e[0]][e[1]])return;this.executeMove(n,e)}}}},{key:"clearHighlights",value:function(){for(var e=[],t=0;t<8;t++)e.push(this.state.squares[t].slice());for(var l=0,n=e;l<n.length;l++)for(var r=n[l],s=0;s<8;s++)"h"===r[s]&&(r[s]=null);this.setState((function(t){return{squares:e}}))}},{key:"showValidMoves",value:function(e){for(var t=[],l=[],r=0;r<8;r++)l.push(this.state.squares[r].slice());var s="Rr"===this.state.player?-1:1;e[0]+s>=0&&e[0]+s<8&&e[1]+1>=0&&e[1]+1<8&&(l[e[0]+s][e[1]+1]||t.push([e[0]+s,e[1]+1])),e[0]+s>=0&&e[0]+s<8&&e[1]-1>=0&&e[1]-1<8&&(l[e[0]+s][e[1]-1]||t.push([e[0]+s,e[1]-1])),"RB".includes(l[e[0]][e[1]])&&(e[0]-s>=0&&e[0]-s<8&&e[1]+1>=0&&e[1]+1<8&&(l[e[0]-s][e[1]+1]||t.push([e[0]-s,e[1]+1])),e[0]-s>=0&&e[0]-s<8&&e[1]-1>=0&&e[1]-1<8&&(l[e[0]-s][e[1]-1]||t.push([e[0]-s,e[1]-1]))),t.push.apply(t,Object(n.a)(this.showValidJumps(e,l)));for(var u=0,a=t;u<a.length;u++){var i=a[u];l[i[0]][i[1]]="h"}this.setState((function(e){return{squares:l}}))}},{key:"showValidJumps",value:function(e,t){for(var l=[],r=0;r<8;r++)l.push(t[r].slice());var s=[],u="Rr"===this.state.player?-1:1,a="Rr"===this.state.player?"Bb":"Rr";return e[0]+2*u>=0&&e[0]+2*u<8&&e[1]+2>=0&&e[1]+2<8&&a.includes(l[e[0]+u][e[1]+1])&&null===l[e[0]+2*u][e[1]+2]&&(s.push([e[0]+2*u,e[1]+2]),l[e[0]+u][e[1]+1]=null,s.push.apply(s,Object(n.a)(this.showValidJumps([e[0]+2*u,e[1]+2],l)))),e[0]+2*u>=0&&e[0]+2*u<8&&e[1]-2>=0&&e[1]-2<8&&a.includes(l[e[0]+u][e[1]-1])&&null===l[e[0]+2*u][e[1]-2]&&(s.push([e[0]+2*u,e[1]-2]),l[e[0]+u][e[1]-1]=null,s.push.apply(s,Object(n.a)(this.showValidJumps([e[0]+2*u,e[1]-2],l)))),"RB".includes(l[this.state.moveFrom[0]][this.state.moveFrom[1]])&&(u*=-1,e[0]+2*u>=0&&e[0]+2*u<8&&e[1]+2>=0&&e[1]+2<8&&a.includes(l[e[0]+u][e[1]+1])&&null===l[e[0]+2*u][e[1]+2]&&(s.push([e[0]+2*u,e[1]+2]),l[e[0]+u][e[1]+1]=null,s.push.apply(s,Object(n.a)(this.showValidJumps([e[0]+2*u,e[1]+2],l)))),e[0]+2*u>=0&&e[0]+2*u<8&&e[1]-2>=0&&e[1]-2<8&&a.includes(l[e[0]+u][e[1]-1])&&null===l[e[0]+2*u][e[1]-2]&&(s.push([e[0]+2*u,e[1]-2]),l[e[0]+u][e[1]-1]=null,s.push.apply(s,Object(n.a)(this.showValidJumps([e[0]+2*u,e[1]-2],l))))),s}},{key:"test_function",value:function(){var e=this;console.log(this.state.squares);for(var t="[",l=0;l<8;l++)t+=JSON.stringify(this.state.squares[l]).substring(1,JSON.stringify(this.state.squares[l]).length-1),t+=",";t=t.substring(0,t.length-1),t+="]",fetch("/checkers_bot/?board="+t+"&player=Bb").then((function(e){return e.json()})).then((function(t){t=JSON.parse(t.express),e.executeEnemyMove(t),console.log(t)})).catch(console.log)}},{key:"executeMove",value:function(e,t){arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.test_function.bind(this);for(var l=[],n=0;n<8;n++)l.push(this.state.squares[n].slice());var r="Rr"===this.state.player?"Bb":"Rr",s=this.state.player,u=this.state.stepNumber+1;if(1===Math.abs(e[0]-t[0])&&1===Math.abs(e[1]-t[1]))l[t[0]][t[1]]=l[e[0]][e[1]],l[e[0]][e[1]]=null;else{for(var a=this.getRoute(e,t,l),i=0;i<a.length-1;i++)l[(a[i][0]+a[i+1][0])/2][(a[i][1]+a[i+1][1])/2]=null;l[t[0]][t[1]]=l[e[0]][e[1]],l[e[0]][e[1]]=null}var o="Rr"===this.state.player?0:7;t[0]===o&&(l[t[0]][t[1]]=l[t[0]][t[1]].toUpperCase());for(var c=0,h=l;c<h.length;c++)for(var p=h[c],v=0;v<8;v++)"h"===p[v]&&(p[v]=null);this.calculateWinner(l,s),this.setState((function(e){return{squares:l,player:r,stepNumber:u,moveFrom:[-1,-1]}}),this.test_function)}},{key:"executeEnemyMove",value:function(e){for(var t=[],l=0;l<8;l++)t.push(this.state.squares[l].slice());var n=this.state.stepNumber+1;if(1===Math.abs(e[0][0]-e[e.length-1][0])&&1===Math.abs(e[0][1]-e[e.length-1][1]))t[e[e.length-1][0]][e[e.length-1][1]]=t[e[0][0]][e[0][1]],t[e[0][0]][e[0][1]]=null;else{for(var r=0;r<e.length-1;r++)t[(e[r][0]+e[r+1][0])/2][(e[r][1]+e[r+1][1])/2]=null;t[e[e.length-1][0]][e[e.length-1][1]]=t[e[0][0]][e[0][1]],t[e[0][0]][e[0][1]]=null}var s="Rr"===this.state.player?0:7;e[e.length-1][0]===s&&(t[e[e.length-1][0]][e[e.length-1][1]]=t[e[e.length-1][0]][e[e.length-1][1]].toUpperCase()),this.calculateWinner(t,"Bb"),this.setState((function(e){return{squares:t,player:"Rr",stepNumber:n,moveFrom:[-1,-1]}}))}},{key:"getRoute",value:function(e,t,l){var n=new g(e);this.getRouteHelper(e,0,l,n);for(var r=[],s=n.moves.length-1;s>0;)r.length>0||JSON.stringify(n.moves[s])===JSON.stringify(t)?(r.push(n.moves[s]),s=Math.floor((s-1)/4)):s--;return r.push(e),r=r.reverse()}},{key:"getRouteHelper",value:function(e,t,l,n){for(var r=[],s="Rr"===this.state.player?"Bb":"Rr",u=0;u<8;u++)r.push(l[u].slice());e[0]+2>=0&&e[0]+2<8&&e[1]-2>=0&&e[1]-2<8&&s.includes(r[e[0]+1][e[1]-1])&&"h"===r[e[0]+2][e[1]-2]&&(n.moves[4*t+1]=[e[0]+2,e[1]-2],r[e[0]+1][e[1]-1]=null,this.getRouteHelper([e[0]+2,e[1]-2],4*t+1,r,n)),e[0]+2>=0&&e[0]+2<8&&e[1]+2>=0&&e[1]+2<8&&s.includes(r[e[0]+1][e[1]+1])&&"h"===r[e[0]+2][e[1]+2]&&(n.moves[4*t+2]=[e[0]+2,e[1]+2],r[e[0]+1][e[1]+1]=null,this.getRouteHelper([e[0]+2,e[1]+2],4*t+2,r,n)),e[0]-2>=0&&e[0]-2<8&&e[1]-2>=0&&e[1]-2<8&&s.includes(r[e[0]-1][e[1]-1])&&"h"===r[e[0]-2][e[1]-2]&&(n.moves[4*t+3]=[e[0]-2,e[1]-2],r[e[0]-1][e[1]-1]=null,this.getRouteHelper([e[0]-2,e[1]-2],4*t+3,r,n)),e[0]-2>=0&&e[0]-2<8&&e[1]+2>=0&&e[1]+2<8&&s.includes(r[e[0]-1][e[1]+1])&&"h"===r[e[0]-2][e[1]+2]&&(n.moves[4*t+4]=[e[0]-2,e[1]+2],r[e[0]-1][e[1]+1]=null,this.getRouteHelper([e[0]-2,e[1]+2],4*t+4,r,n))}},{key:"calculateWinner",value:function(e,t){for(var l=[],n=0;n<8;n++)l.push(e[n].slice());for(var r=0,s=l;r<s.length;r++)for(var u=s[r],a=0;a<8;a++)"h"===u[a]&&(u[a]=null);for(var i="Rr"===t?"Bb":"Rr",o="Rr"===this.state.player?1:-1,c=[],h=0;h<8;h++)for(var p=0;p<8;p++)i.includes(l[h][p])&&c.push([h,p]);if(0!==c.length){for(var v=0;v<c.length;v++){if(c[v][0]+o>=0&&c[v][0]+o<8&&c[v][1]+1>=0&&c[v][1]+1<8&&!l[c[v][0]+o][c[v][1]+1])return;if(c[v][0]+o>=0&&c[v][0]+o<8&&c[v][1]-1>=0&&c[v][1]-1<8&&!l[c[v][0]+o][c[v][1]-1])return;if("RB".includes(l[c[v][0]][c[v][1]])){if(c[v][0]-o>=0&&c[v][0]-o<8&&c[v][1]+1>=0&&c[v][1]+1<8&&!l[c[v][0]-o][c[v][1]+1])return;if(c[v][0]-o>=0&&c[v][0]-o<8&&c[v][1]-1>=0&&c[v][1]-1<8&&!l[c[v][0]-o][c[v][1]-1])return}}for(var f=0;f<c.length;f++){var m=new g(c[f]);if(this.getRouteHelper(c[f],0,l,m),m.moves.length>1)return}this.setState((function(e){return{winner:t}}))}else this.setState((function(e){return{winner:t}}))}},{key:"render",value:function(){var e=this,t=this.state.squares.slice();return c.a.createElement("div",{className:"game"},c.a.createElement("h2",null,"Checkers"),c.a.createElement(f,{squares:t,onClick:function(t){return e.handleClick(t)}}),c.a.createElement("div",{className:"stats"},c.a.createElement("p",null,"Player: ",this.state.player),c.a.createElement("p",null,"MoveNumber: ",this.state.stepNumber)),c.a.createElement(b,{winner:this.state.winner}))}}]),t}(c.a.Component)),f=function(e){function t(e){var l;return Object(r.a)(this,t),(l=Object(u.a)(this,Object(a.a)(t).call(this,e))).state={squares:e.squares},l}return Object(i.a)(t,e),Object(s.a)(t,[{key:"renderRow",value:function(e){var t=this;return c.a.createElement("div",{className:"row"},c.a.createElement(m,{value:this.props.squares[e][0],onClick:function(){return t.props.onClick([e,0])}}),c.a.createElement(m,{value:this.props.squares[e][1],onClick:function(){return t.props.onClick([e,1])}}),c.a.createElement(m,{value:this.props.squares[e][2],onClick:function(){return t.props.onClick([e,2])}}),c.a.createElement(m,{value:this.props.squares[e][3],onClick:function(){return t.props.onClick([e,3])}}),c.a.createElement(m,{value:this.props.squares[e][4],onClick:function(){return t.props.onClick([e,4])}}),c.a.createElement(m,{value:this.props.squares[e][5],onClick:function(){return t.props.onClick([e,5])}}),c.a.createElement(m,{value:this.props.squares[e][6],onClick:function(){return t.props.onClick([e,6])}}),c.a.createElement(m,{value:this.props.squares[e][7],onClick:function(){return t.props.onClick([e,7])}}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"board"},this.renderRow(0),this.renderRow(1),this.renderRow(2),this.renderRow(3),this.renderRow(4),this.renderRow(5),this.renderRow(6),this.renderRow(7))}}]),t}(c.a.Component);function m(e){switch(e.value){case"h":return c.a.createElement("div",{className:"square"},c.a.createElement("div",{className:"selectedSquare",onClick:e.onClick}));case"r":return c.a.createElement("div",{className:"square"},c.a.createElement("div",{className:"redSquare",onClick:e.onClick}));case"b":return c.a.createElement("div",{className:"square"},c.a.createElement("div",{className:"blackSquare",onClick:e.onClick}));case"R":return c.a.createElement("div",{className:"square"},c.a.createElement("div",{className:"redSquare",onClick:e.onClick},c.a.createElement("img",{src:"logo192.png",alt:"king"})));case"B":return c.a.createElement("div",{className:"square"},c.a.createElement("div",{className:"blackSquare",onClick:e.onClick},c.a.createElement("img",{src:"logo192.png",alt:"king"})));default:return c.a.createElement("div",{className:"square",onClick:e.onClick})}}function b(e){return e.winner?c.a.createElement("button",{type:"button"},"Play Again?"):null}function g(e){this.moves=[],this.moves.push(e)}p.a.render(c.a.createElement(v,null),document.getElementById("root"))},15:function(e,t,l){},9:function(e,t,l){e.exports=l(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.859b76d2.chunk.js.map